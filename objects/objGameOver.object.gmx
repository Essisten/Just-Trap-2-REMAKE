<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprGameOver</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>objGameOver</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[0] = 6;
image_alpha = 0;
x = view_wview[0] / 2;
y = view_hview[0] / 2;
percent = 0;
old = 0;
if (!global.showPB)
    exit;
switch (room)
{
    case rBoss1:
        old = global.pb[0];
        if (instance_exists(objJR))
            percent += abs(objJR.HP - 100);
        if (instance_exists(objJustist))
            percent += abs(objJustist.HP - 100);
        if (!instance_exists(objJustist) or !instance_exists(objJR))
            percent = 99.99;
        else
            percent = percent / 200 * 99;
        if (instance_exists(objBG))
        {
            if (objBG.final)
            {
                var tmp = 15 * (global.difficulty + 1);
                percent = 99 + abs(objBG.timer - tmp) / tmp;
            }
        }
        else
            percent = 99.99;
        if (old &lt; percent)
            global.pb[0] = percent;
        break;
    case rBoss2:
        if (instance_exists(objViridian))
        {
            old = global.pb[1];
            percent = 99.99;
            if (global.pb[1] &lt; percent)
                global.pb[1] = percent;
            break;
        }
        if (instance_exists(objJustularity))
        {
            if (objJustularity.phase == 1)
            {
                old = global.pb[1];
                percent = abs(objJustularity.BlueHP + objJustularity.RedHP - 200) / 2;
                if (global.pb[1] &lt; percent)
                    global.pb[1] = percent;
            }
            else
            {
                global.pb[1] = 100;
                old = global.pb[7];
                var bar1 = instance_find(objJustularity, 0);
                var bar2 = instance_find(objJustularity, 1);
                if (!bar1.isRed)
                {
                    var tmp = bar1;
                    bar1 = bar2;
                    bar2 = tmp;
                }
                var hp1 = 0;
                if (instance_exists(bar1))
                    hp1 = bar1.maxHP[0];
                var hp2 = 0;
                if (instance_exists(bar2))
                    hp2 = bar2.maxHP[1];
                percent = abs(hp1 + hp2 - 200) / 2;
                if (global.pb[7] &lt; percent)
                    global.pb[7] = percent;
            }
        }
        else
        {
            old = global.pb[7];
            percent = 99.99;
            if (global.pb[7] &lt; percent)
                global.pb[7] = percent;
        }
        break;
    case rBoss4:
        old = global.pb[3];
        if (instance_exists(objJustination))
        {
            if (objJustination.alarm[0] != -1)
                percent = 99 + abs(objJustination.HP - 100) / 100;
            else if (instance_exists(objJustinationDark) and instance_exists(objJustinationIce) and
            instance_exists(objJustinationLight) and instance_exists(objJustinationFire))
                percent = abs(objJustinationDark.HP + objJustinationIce.HP + objJustinationLight.HP + objJustinationFire.HP - 400) / 400 * 99;
        }
        else
            percent = 99.99;
        if (old &lt; percent)
            global.pb[3] = percent;
        break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_alpha += 0.04;
if (image_alpha &lt; 1)
    alarm[0] = 2;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var h = view_hview[0];
var w = view_wview[0];
draw_set_blend_mode(bm_add);
draw_rectangle_colour(0, h / 2 ,w ,(h - h * (image_alpha + 0.2)) / 2, c_black, c_black, c_red, c_red, false);
draw_rectangle_colour(0, h / 2, w ,(h + h * (image_alpha + 0.2)) / 2, c_red, c_red, c_black, c_black, false);
draw_set_blend_mode(bm_normal);
draw_self();
if (old &lt; percent)
{
    draw_set_font(fDefault24);
    draw_set_halign(fa_center);
    draw_set_alpha(image_alpha);
    scrDrawTextOutline(x, y + 110, "Personal Best", c_maroon, c_black);
    scrDrawTextOutline(x, y + 150, string(percent) + "%", c_maroon, c_black);
    draw_set_alpha(1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
